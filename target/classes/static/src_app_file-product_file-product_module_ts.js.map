{"version":3,"file":"src_app_file-product_file-product_module_ts.js","mappings":"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","sources":["./src/app/file-product/file-product-routing.module.ts","./src/app/file-product/file-product.module.ts","./src/app/file-product/file-product.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FileProductPage } from './file-product.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FileProductPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FileProductPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FileProductPageRoutingModule } from './file-product-routing.module';\n\nimport { FileProductPage } from './file-product.page';\nimport { ComponentsModule } from '../components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    FileProductPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [FileProductPage]\n})\nexport class FileProductPageModule {}\n","/* eslint-disable @typescript-eslint/no-shadow */\n/* eslint-disable @typescript-eslint/no-unused-expressions */\n/* eslint-disable @typescript-eslint/member-ordering */\n/* eslint-disable @typescript-eslint/ban-types */\nimport { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { FileProductService } from '../services/file-product-service/file-product.service';\nimport { FileProductBarcode } from '../entities/file-product/file-product-barcode';\nimport { FileProduct } from '../entities/file-product/file-product';\nimport { Codes } from '../entities/codes/codes';\nimport { FileProductRequestService } from '../controller/fileProduct/file-product-request.service';\nimport { CodesRequestService } from '../controller/codes/codes-request.service';\n\n@Component({\n  selector: 'app-file-product',\n  templateUrl: './file-product.page.html',\n  styleUrls: ['./file-product.page.scss'],\n})\nexport class FileProductPage implements OnInit {\n\n  customAlertOptions = {\n    header: 'Configuracion de archivo',\n    subHeader: 'Configure los archivos de productos',\n    message: 'Seleccione solo uno',\n    translucent: true,\n  };\n\n  isOpenForm = false;\n  isOpenAsignation = false;\n  isOpenList = true;\n  fileProductList: Array<{}>;\n  formatedFileProductList: Array<FileProductBarcode> = [];\n  fileProductNameKeys: Array<string>;\n\n  newValueAsignation!: FormGroup;\n\n  codeList: Array<{}> = [];\n  fileProduct: FileProduct;\n  code: Codes;\n\n\n  constructor(private fileProductService: FileProductService, private fileProductRequestService: FileProductRequestService,\n    private codesRequestService: CodesRequestService) {\n    this.formul();\n   }\n\n  ngOnInit() {\n    console.log('hola',this.fileProductList);\n    this.fileProductService.triggerFileProductArray.subscribe(data => {\n      this.formul();\n      this.openAsignation(true);\n      this.isOpenAsignation = true;\n      this.fileProductList = data;\n      this.fileProductNameKeys = Object.keys(this.fileProductList[0]);\n    });\n    this.fileProductService.triggerOpenList.subscribe(() => {\n      this.isOpenForm = false;\n      this.isOpenAsignation = false;\n      this.isOpenList = true;\n    });\n  }\n\n  formul() {\n    this.newValueAsignation = new FormGroup({\n      barcode: new FormControl('', Validators.required),\n      productName: new FormControl('', Validators.required),\n      mark: new FormControl('', Validators.required),\n      amount: new FormControl('', Validators.required)\n    });\n  }\n\n\n  addNewValueAsignation() {\n    const form = this.newValueAsignation.value;\n    const fileProduct: FileProductBarcode = {\n      barcode: form.barcode,\n      productName: form.productName,\n      mark: form.mark,\n      amount: form.amount\n    };\n    //console.log(fileProduct);\n    try {\n      this.fileProductList.forEach(i => {\n        this.formatedFileProductList.push({\n          barcode: i[fileProduct.barcode],\n          productName: i[fileProduct.productName],\n          mark: i[fileProduct.mark],\n          amount: i[fileProduct.amount]\n        });\n      });\n      this.addFileProductWithCode();\n      this.fileProductList = null;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  addFileProductWithCode(){\n    console.log('La lista es: ', this.formatedFileProductList);\n    const listFileProdutList: Array<{}> = [];\n    this.formatedFileProductList.forEach(async i => {\n      this.fileProduct = {\n        productName: i.productName,\n        mark: i.mark,\n        amount: i.amount,\n      };\n      this.code = {\n        id: i.barcode\n      };\n      listFileProdutList.push({\n        fileProduct: this.fileProduct,\n        code: this.code\n      });\n    });\n    this.fileProductRequestService.newFileProductsWithCode(listFileProdutList).subscribe(() => {\n      this.openFileProductList();\n    });\n  }\n\n  openNewFrom(value: boolean) {\n    this.isOpenList = false;\n    this.isOpenAsignation = !value;\n    this.isOpenForm = value;\n  }\n\n  openAsignation(value: boolean) {\n    this.isOpenList = false;\n    this.isOpenForm = !value;\n    if (this.isOpenAsignation) {\n      this.fileProductService.triggerOpenAchiveModule.emit();\n    } else {\n      if (!this.fileProductList) {\n        this.fileProductService.triggerOpenAchiveModule.emit();\n      } else {\n        this.isOpenAsignation = value;\n      }\n    }\n  }\n\n  async openFileProductList(){\n    this.fileProductService.triggerUpdatedFileList.emit();\n    console.log('Despues');\n    this.isOpenAsignation = false;\n    this.isOpenForm = false;\n    this.isOpenList = true;\n  }\n}\n"],"names":["Component","FormControl","FormGroup","Validators","FileProductService","FileProductRequestService","CodesRequestService","FileProductPage","constructor","fileProductService","fileProductRequestService","codesRequestService","header","subHeader","message","translucent","formul","ngOnInit","console","log","fileProductList","triggerFileProductArray","subscribe","data","openAsignation","isOpenAsignation","fileProductNameKeys","Object","keys","triggerOpenList","isOpenForm","isOpenList","newValueAsignation","barcode","required","productName","mark","amount","addNewValueAsignation","form","value","fileProduct","forEach","i","formatedFileProductList","push","addFileProductWithCode","error","listFileProdutList","code","id","newFileProductsWithCode","openFileProductList","openNewFrom","triggerOpenAchiveModule","emit","triggerUpdatedFileList","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}